(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8c5e1856"],{c35f:function(t,e,i){"use strict";i("dfc5")},cc07:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"searchshop"},[i("van-nav-bar",{attrs:{title:"搜索商品","left-text":"返回","left-arrow":""},on:{"click-left":t.onClickLeft}}),i("form",{attrs:{action:"/"}},[i("van-search",{attrs:{"show-action":"",placeholder:"商品搜索"},on:{input:t.searchText,cancel:t.onCancel},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}})],1),""==t.isshow?i("div",[i("div",{staticClass:"history"},[i("div",{staticClass:"h_title"},[i("span",[t._v("历史记录")]),i("van-icon",{attrs:{name:"delete"},on:{click:t.clearhis}})],1),i("ul",{staticClass:"hisData clear"},t._l(t.hisData,(function(e,a){return i("li",{key:a},[t._v(t._s(e.keyword))])})),0)]),i("div",{staticClass:"hot"},[t._m(0),i("ul",{staticClass:"horsearch clear"},t._l(t.horsearch,(function(e,a){return i("li",{key:a,style:0==a?"color:red;border-color:red":""},[t._v(t._s(e.keyword))])})),0)])]):t._e(),"1"==t.isshow?i("div",{staticClass:"search_show"},[i("ul",t._l(t.helpData,(function(e){return i("li",{key:e.id,on:{click:function(i){return t.shopdetail(e)}}},[t._v(t._s(e.name))])})),0)]):t._e(),"2"==t.isshow?i("div",{staticClass:"shop_show"},[i("div",{staticClass:"shop_deta"},[i("div",{staticClass:"deat_title"},[i("span",[t._v("综合")]),i("div",{staticClass:"price",on:{click:t.price_btn}},[i("span",[t._v("价格")]),i("van-icon",{class:{active:"true"==t.priceicon},attrs:{name:"arrow-up"}}),i("van-icon",{class:{active:"false"==t.priceicon},attrs:{name:"arrow-down"}})],1),i("span",[t._v("分类")])]),i("ul",t._l(t.shop_detail,(function(e){return i("li",{key:e.id},[i("img",{attrs:{src:e.list_pic_url,alt:""}}),i("p",[t._v(t._s(e.name))]),i("span",[t._v("$"+t._s(e.retail_price))])])})),0)])]):t._e()],1)},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"h_title"},[i("span",[t._v("热门搜索")])])}],n=i("2ade");function c(t){return Object(n["a"])({method:"POST",url:"/search/clearhistoryAction",data:t})}function o(t){return Object(n["a"])({method:"POST",url:"/search/addhistoryaction",data:t})}function r(t){return Object(n["a"])({url:"/search/helperaction",data:t})}function l(t){return Object(n["a"])({url:"/search/indexaction",data:t})}var h={data:function(){return{text:"",hisData:[],horsearch:[],isshow:"",helpData:[],priceicon:"",shop_detail:[]}},methods:{onClickLeft:function(){this.$router.go(-1)},searchText:function(){var t=this;this.text.length>0?this.isshow=1:this.isshow="",r({keyword:this.text}).then((function(e){t.helpData=e.keywords}))},shopdetail:function(t){o({keyword:this.text,openId:localStorage.getItem("openId")}).then((function(t){console.log(t)})),this.isshow=2,this.shop_detail.push(t)},onCancel:function(){this.$router.push("".concat(this.previousRouter))},clearhis:function(){var t=this;c({openId:localStorage.getItem("openId")}).then((function(e){t.hisData=""}))},gethistorydata:function(){var t=this;l({openId:localStorage.getItem("openId")}).then((function(e){t.hisData=e.historyData,t.horsearch=e.hotKeywordList}))},price_btn:function(){this.priceicon?this.priceicon=!1:""!=this.priceicon&&this.priceicon||(this.priceicon=!0)}},mounted:function(){this.gethistorydata()}},u=h,d=(i("c35f"),i("2877")),p=Object(d["a"])(u,a,s,!1,null,"f8a35126",null);e["default"]=p.exports},dfc5:function(t,e,i){}}]);
//# sourceMappingURL=chunk-8c5e1856.718e0421.js.map